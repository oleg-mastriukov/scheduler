<head>
    <title>Morgana Scheduler</title>
    <style>
        .slds-visual-picker_vertical .slds-visual-picker__figure {
            height: inherit !important;
        }

        .runtime_appointmentbookingFlowLocation .slds-visual-picker_vertical {
            display: inline-flex !important;
        }
    </style>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-NSR8848Z');
    </script>
    <!-- End Google Tag Manager -->
<!--    <link rel="stylesheet" href="sass/main.scss">-->
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <h1>test</h1>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NSR8848Z"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <script>
        window.addEventListener('message', function(event) {
            console.log('Received event: ', event);
            console.log('Received event.data: ', event.data);
            // Replace 'myCustomEvent' with your actual custom event name
            dataLayer.push({
                event: 'salesforce_event',
                date: event.data.date,
                email:event.data.email,
                first_name:event.data.first_name,
                last_name:event.data.last_name,
                name:event.data.name,
                store:event.data.store,
                time:event.data.time
            })
        });
    </script>





    <script src="https://morgana2022--acceptance.sandbox.lightning.force.com/lightning/lightning.out.js"></script>
    <script>
        $Lightning.use("runtime_appointmentbooking:lightningOutGuest",    // name of the Lightning app
            function() {
                $Lightning.createComponent(
                   "lightning:flow", // top-level component of your app
                    {},
                    "lightningLocator",   // the DOM location to insert the component
                    function(cmp) {
                        var inputVariables = [
                                {
                                    name : 'ValueFromSite',
                                    type : 'String',
                                    value : 'test'
                                }
                                ];
                        console.log('Hi from callback');
                        cmp.startFlow("Inbound_New_Guest_Appointment_custom", inputVariables);
                    }
                );
            }, "https://morgana2022--acceptance.sandbox.my.site.com"  // Community endpoint
        );
    </script>

<div id="lightningLocator"></div>
</body>
